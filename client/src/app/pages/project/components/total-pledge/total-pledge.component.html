<ng2-slim-loading-bar [color]="'#9a91ff'" [height]="'6px'"></ng2-slim-loading-bar>
<div class="row">
    <div class="col-lg-12 col-md-12">
      <nb-card>
        <nb-card-header>Query to get total pledged amount</nb-card-header>
        <nb-card-body>
          <form [formGroup]="myForm" novalidate (ngSubmit)="getTotalPlege(myForm)">
            <div class="row">
              <div class="col-4">
                <div class="form-group">
                  <label>Select Category</label>
                  <select class="form-control ng-untouched ng-pristine ng-valid" formControlName="category">
                    <option></option>
                    <option *ngFor="let category of categories" [ngValue]="category">{{category}}</option>
                  </select>
                </div>
              </div>
  
              
              <div class="col-4">
                <div class="form-group">
                  <label>Select Country Code</label>
                  <select class="form-control ng-untouched ng-pristine ng-valid" formControlName="country">
                      <option></option>
                    <option *ngFor="let country of countries" [ngValue]="country">{{country}}</option>
                  </select>
                </div>
              </div>

              <div class="col-4">
                <div class="form-group">
                    <button type="submit" class="btn btn-primary mt-4 btn-xm" 
                    [disabled]="!(countries && categories && enabled)">Submit</button>
        
                </div>
              </div>
  
  
  
            </div>
          </form>
        </nb-card-body>
      </nb-card>
  
      <nb-card *ngIf="finalResults">
          <nb-card-header>Results</nb-card-header>
        <nb-card-body>
          <table class="table table-bordered">
            <thead class="thead-dark">
              <tr>
                <th>Category</th>
                <th>Pledged</th>
                <th>Backers</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor = "let result of finalResults">
                <td>{{result.category}}</td> 
                <td>{{result.pledged}}</td>
                <td>{{result.backers}}</td>
              </tr>
            </tbody>
          </table>
        </nb-card-body>
      </nb-card>
  
  
    </div>
  </div>
  